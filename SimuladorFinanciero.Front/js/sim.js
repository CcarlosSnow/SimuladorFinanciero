$(document).ready(function () {
    $('.cscroll').scrollbar();
    var $window = $(window),
    $html = $('body'),
    $toggle = false,
    rtime,
    timeout = false,
    delta = 200;

    $(window).resize(function () {
        rtime = new Date();
        if (timeout === false) {
            timeout = true;
            setTimeout(resizeend, delta);
        }
    }).trigger('resize');

    function bancoEmpresa(value) {
        var texto = "Seleccionar banco (s)";
        var textSeleccion = "Seleccione uno o más bancos";
        if (value == '1.5' || value == '4' || value == '4.1') {
            texto = "Seleccionar empresa (s)";
            textSeleccion = "Seleccione una o más empresas";
            $('#hdMensajeValidacionBanco').val('Debe seleccionar por lo menos una empresa');
        }
        else {
            texto = "Seleccionar banco (s)";
            textSeleccion = "Seleccione uno o más bancos";
            $('#hdMensajeValidacionBanco').val('Debe seleccionar por lo menos un banco');
        }
        $(".banco").html(texto);
        $("#bancos").find("h3").text(textSeleccion);
    }


    function resizeend() {
        if (new Date() - rtime < delta) {
            setTimeout(resizeend, delta);
        } else {
            timeout = false;
            if (($window.width() >= 320) && ($window.width() <= 680)) {
                $('body').addClass('mobile');
                $('body').removeClass('desktop');
                $('.accordion ul li a.title').removeClass('show');
                $('.accordion .content').hide();
                //Operación
                $('.accordion ul li.a a.title').addClass('fancybox').attr('href', '#medios-de-pago').next().addClass('hide');
                $('.accordion ul li.b a.title').addClass('fancybox').attr('href', '#financiamiento').next().addClass('hide');
                $('.accordion ul li.c a.title').addClass('fancybox').attr('href', '#garantias').next().addClass('hide');
                $('.title.fancybox').on('click', function () {
                    $(this).removeClass('show');
                });
                //Detalle
                var allDContent = $('.bank .table .tbody .col .cols.mobile').hide();
                var allDTop = $('.bank .table .tbody .col.a span');
                $('.bank .table .tbody .col.a span').unbind('click').bind('click', function () {
                    if ($(this).hasClass('show')) {
                        $(this).next().slideUp();
                        $(this).removeClass('show');
                    } else {
                        allDContent.slideUp();
                        allDTop.removeClass('show');
                        $(this).next().slideDown();
                        $(this).toggleClass('show');
                    }
                });
                $toggle = true;
            } else {
                $('body').removeClass('mobile');
                $('body').addClass('desktop');
                //Operación
                $('.accordion ul li.a a.title').removeClass('fancybox').removeAttr('href').next().removeClass('hide');
                $('.accordion ul li.b a.title').removeClass('fancybox').removeAttr('href').next().removeClass('hide');
                $('.accordion ul li.c a.title').removeClass('fancybox').removeAttr('href').next().removeClass('hide');
                var allContent = $('.accordion .content').hide();
                var allTop = $('.accordion ul li > a.title');
                $('.accordion ul li > a.title').unbind('click').bind('click', function () {
                    var producto = $(this).data('idproducto');
                    $('#hdIdProducto').val(producto);
                    $('#hdIdTipo').val($(this).data('tipo'));

                    if ($(this).data('tipo') == "4") {
                        $('.periodo').addClass('hide-be');
                        $('#hdPeriodo').val('0');
                        $('.select').children().val('0 días');
                    }

                    if (typeof producto != 'undefined') {

                        bancoEmpresa($(this).data('tipo'));

                        $('.be-seleccion').each(function () {
                            var productos = $(this).data('productos');
                            var result = $.inArray(parseInt(producto), productos);
                            if (result == -1) {
                                $(this).parent().parent().addClass('hide-be');
                                $(this).attr('checked', false);
                                $(this).parent().removeClass('selected');
                            } else {
                                $(this).parent().parent().removeClass('hide-be');
                            }
                        });
                    }
                    $('.accordion ul li .content a').each(function () {
                        $(this).removeClass('selected');
                        //$(this).find("input").attr('checked', false);
                    });

                    if ($(this).hasClass('show')) {
                        $(this).next().slideUp();
                        $(this).removeClass('show');
                    } else {
                        allContent.slideUp();
                        allTop.removeClass('show');
                        $(this).next().slideDown();
                        $(this).toggleClass('show');
                    }
                });
            }
            if (($window.width() >= 1300) && ($window.width() <= 2200)) {
                $('body').addClass('full');
                $('.row.bottom').removeClass('fixed');
            } else {
                $('body').removeClass('full');
                $('.row.bottom').addClass('fixed');
            }
        }
    }

    //Resultados
    var allBContent = $('.bank .detail').hide();
    var allBTop = $('.bank .summary');
    $('.bank > .summary').unbind('click').bind('click', function () {
        if ($(this).hasClass('show')) {
            $(this).next().slideUp();
            $(this).removeClass('show');
        } else {
            allBContent.slideUp();
            allBTop.removeClass('show');
            $(this).next().slideDown();
            $(this).toggleClass('show');
        }
        return false;
    });

    //Radio
    $('.acc .content a').on('click', function () {
        $(this).addClass('selected')
        $(this).siblings().removeClass('selected')
    });
    //Fancybox
    $('.fancybox').fancybox();
    $('input, textarea').on('click', function () {
        $(this).addClass('focus');
    });
    //Radio
    $('.accordion ul li .content a').on('click', function () {

        $('.accordion ul li .content a').each(function () {
            $(this).removeClass('selected');
            $(this).find("input").attr('checked', false);
        });

        $(this).addClass('selected');
        $(this).find("input").attr('checked', true);

        bancoEmpresa($(this).find("input").data("idnom"));

        $('#hdIdProducto').val($(this).find("input").val());
        $('#hdIdTipo').val($(this).find("input").data('tipo'));

        var producNoPeriodo = [1.1, 1.2, 1.3, 1.5, 4.1];
        var show = $.inArray($(this).find("input").data('idnom'), producNoPeriodo);
        if (show == -1) {
            $('.periodo').removeClass('hide-be');
            $('#hdPeriodo').val('30');
            $('.select').children().val('30 días');
        } else {
            $('.periodo').addClass('hide-be');
            $('#hdPeriodo').val('0');
            $('.select').children().val('0 días');
        }

        var producto = $(this).find("input").val();
        $('#bancos ul label').removeClass('selected');

        $('.be-seleccion').each(function () {
            var productos = $(this).data('productos');
            var result = $.inArray(parseInt(producto), productos);
            if (result == -1) {
                $(this).parent().parent().addClass('hide-be');
            } else {
                $(this).parent().parent().removeClass('hide-be');
            }
        });
    });

    $('.accordion ul li a.title').on('click', function () {
        $('#hdIdProducto').val($(this).data('idproducto'));
        $('#hdIdTipo').val($(this).data('tipo'));
        if ($(this).data('idproducto') != '') {
            $('.be-seleccion').each(function () {
                var productos = $(this).data('productos');
                var result = $.inArray(parseInt($(this).data('idproducto')), productos);
                if (result == -1) {
                    $(this).parent().parent().addClass('hide-be');
                } else {
                    $(this).parent().parent().removeClass('hide-be');
                }
            });
        }
    });



    //Dias
    $('.btn-days .select').on('click', function () {
        $(this).next().slideToggle('fast');
    });
    $('.btn-days ul li').on('click', function () {
        var opLid = $(this).html();
        $('.btn-days .select input').addClass('focus').val(opLid);
        $('.btn-days .select span').html(opLid);
        $('input#hdPeriodo').val($(this).data('rel'));
        $('#hdPeriodo').val($(this).data('rel'));
        $('.btn-days ul').slideToggle('fast');
    });
    //Asunto
    $('.btn-asunto .select').on('click', function () {
        $(this).next().slideToggle('fast');
    });
    $('.btn-asunto ul li').on('click', function () {
        var opLia = $(this).html();
        var value = $(this).data('rel');
        $('.btn-asunto .select input').addClass('focus').val(opLia);
        $('.btn-asunto .select input').data('value', value);
        $('.btn-asunto ul').slideToggle('fast');
    });
    //Numero
    $('.btn-money input').on('keydown', 'input', function (e) {
        -1 !== $.inArray(e.keyCode, [46, 8, 9, 27, 13, 110, 190]) || /65|67|86|88/.test(e.keyCode) && (!0 === e.ctrlKey || !0 === e.metaKey) || 35 <= e.keyCode && 40 >= e.keyCode || (e.shiftKey || 48 > e.keyCode || 57 < e.keyCode) && (96 > e.keyCode || 105 < e.keyCode) && e.preventDefault()
        formatDecimal($(this));
    }).on('change', function () {
        $(this).number(true, 2);
        formatDecimal($(this));
    });
    onload = function () {
        var ele = document.querySelectorAll('.btn-money input')[0];
        formatDecimal($(this));
        ele.onkeypress = function (e) {
            formatDecimal($(this));
            if (isNaN(this.value + "" + String.fromCharCode(e.charCode))) {
                return false;
            }
        };
        ele.onpaste = function (e) {
            formatDecimal($(this));
            e.preventDefault();
        };
    };
    function formatDecimal(elemet) {
        var valor = parseFloat(elemet.val());
        var decimal = 0;
        if (!isNaN(valor)) {
            decimal = valor % 1;
            valor = valor - parseFloat(decimal.toFixed(2));
            elemet.val(valor);
        }
    }

    //Checkbox
    $('#bancos .all label').on('change', function () {

        $(this).addClass('selected');
        $('#bancos ul li:not(.hide-be) label').toggleClass('selected');

        if ($('#bancos ul li:not(.hide-be) label').hasClass('selected')) {
            $('#bancos ul li:not(.hide-be) label:not(.selected)').addClass('selected');
        } else {
            $(this).removeClass('selected');
        }

    });

    $('#bancos ul li label').on('change', function () {
        $(this).toggleClass('selected');
        $('#bancos .all label').removeClass('selected');
    });
    //Fancy close
    $('#bancos .btn-Select').on('click', function () {
        if ($('#bancos ul li label').hasClass('selected')) {
            $.fancybox.close();
        } else {
            $.alert({
                title: '¡Aviso!',
                content: $('#hdMensajeValidacionBanco').val(),
                confirmButton: 'Aceptar',
                confirmButtonClass: 'error'
            });
        }
    });
    //Editar
    $('.btn-Editar').click(function () {
        $('.navi-left').toggle();
        $('#editar').animate({ 'right': '0' });
    });
    $('#editar .close, #editar .editar').click(function () {
        $('.navi-left').toggle();
        $('#editar').animate({ 'right': '-550px' });
    });
    //Formularios
    $('.f-content .btn-Enviar').click(function (e) {
        e.preventDefault();
        var eFormat = /[\w-\.]{2,}@([\w-]{2,}\.)*([\w-]{2,}\.)[\w-]{2,4}/;
        var response = grecaptcha.getResponse();
        if ($('.f-content .nombres-apellidos').val() === "") {
            $.alert({
                title: '¡Aviso!',
                content: 'Debe ingresar su nombre y apellido',
                confirmButton: 'Aceptar',
                confirmButtonClass: 'error'
            });
        } else if (!eFormat.test($('.f-content .email').val().trim())) {
            $.alert({
                title: '¡Aviso!',
                content: 'Debe ingresar un formato de email valido',
                confirmButton: 'Aceptar',
                confirmButtonClass: 'error'
            });
        } else if ($('.f-content .email').val() === "") {
            $.alert({
                title: '¡Aviso!',
                content: 'Debe ingresar su email',
                confirmButton: 'Aceptar',
                confirmButtonClass: 'error'
            });
        } else if ($('.f-content .asunto').val() === "") {
            $.alert({
                title: '¡Aviso!',
                content: 'Debe seleccionar  un asunto',
                confirmButton: 'Aceptar',
                confirmButtonClass: 'error'
            });
        } else if ($('.f-content .mensaje').val() === "") {
            $.alert({
                title: '¡Aviso!',
                content: 'Debe ingresar su mensaje',
                confirmButton: 'Aceptar',
                confirmButtonClass: 'error'
            });
        } else if (response.length == 0) {
            $.alert({
                title: '¡Aviso!',
                content: 'Debe validar si no es un robot',
                confirmButton: 'Aceptar',
                confirmButtonClass: 'error'
            });
        } else {
            var sugerencia = {
                'IdSugerencia': 1,
                'Descripcion': $('#Descripcion').val(),
                'Fecha': Date.now,
                'Tipo': $('.btn-asunto .select input').data('value'),
                'Nombre': $('#Nombre').val(),
                'Correo': $('#Correo').val(),
                'Estado': ''
            };
            var dataObject = JSON.stringify(sugerencia);
            $('#overlay-loading').fadeIn('fast');
            $.ajax({
                type: "POST",
                url: $('#url').data('urlguardar'),
                contentType: 'application/json',
                data: dataObject,
                success: function (response) {
                    if (response.Estado == "OK") {
                        $('#overlay-loading').fadeOut();
                        $('#overlay-success').fadeIn('fast');
                    }
                    else {
                        $('#overlay-loading').fadeOut();
                        $.alert({
                            title: response.Titulo,
                            content: response,
                            confirmButton: 'Aceptar',
                            confirmButtonClass: 'error'
                        });
                    }
                },
                error: function (error) {
                    $('#overlay-loading').fadeOut();
                    $.alert({
                        title: "Aviso!",
                        content: error,
                        confirmButton: 'Aceptar',
                        confirmButtonClass: 'error'
                    });
                }
            });

        }
    });
    //$('#enviar .btn-Enviar').click(function (e) {
    //    var eFormat = /[\w-\.]{2,}@([\w-]{2,}\.)*([\w-]{2,}\.)[\w-]{2,4}/;
    //    e.preventDefault();
    //    if ($('#enviar .email').val() === "") {
    //        $.alert({
    //            title: '¡Aviso!',
    //            content: 'Debe ingresar su email',
    //            confirmButton: 'Aceptar',
    //            confirmButtonClass: 'error'
    //        });
    //    } else if (!eFormat.test($('#enviar .email').val().trim())) {
    //        $.alert({
    //            title: '¡Aviso!',
    //            content: 'Debe ingresar un formato de email valido',
    //            confirmButton: 'Aceptar',
    //            confirmButtonClass: 'error'
    //        });
    //        //} else {

    //    }
    //});
   
    //Mobile AL
    $('.detalleFN').click(function () {
        $.dialog($(this).attr('data-content'));
    });
});
/* fancybox */!function (e, t, i, n) { "use strict"; var o = i("html"), a = i(e), r = i(t), s = i.fancybox = function () { s.open.apply(this, arguments) }, l = navigator.userAgent.match(/msie/i), c = null, d = t.createTouch !== n, p = function (e) { return e && e.hasOwnProperty && e instanceof i }, h = function (e) { return e && "string" === i.type(e) }, f = function (e) { return h(e) && e.indexOf("%") > 0 }, u = function (e) { return e && !(e.style.overflow && "hidden" === e.style.overflow) && (e.clientWidth && e.scrollWidth > e.clientWidth || e.clientHeight && e.scrollHeight > e.clientHeight) }, g = function (e, t) { var i = parseInt(e, 10) || 0; return t && f(e) && (i = s.getViewport()[t] / 100 * i), Math.ceil(i) }, m = function (e, t) { return g(e, t) + "px" }; i.extend(s, { version: "2.1.5", defaults: { padding: 0, margin: 20, width: 800, height: 600, minWidth: 100, minHeight: 100, maxWidth: 9999, maxHeight: 9999, pixelRatio: 1, autoSize: !0, autoHeight: !1, autoWidth: !1, autoResize: !0, autoCenter: !d, fitToView: !0, aspectRatio: !1, topRatio: .5, leftRatio: .5, scrolling: "auto", wrapCSS: "", arrows: !0, closeBtn: !0, closeClick: !1, nextClick: !1, mouseWheel: !0, autoPlay: !1, playSpeed: 3e3, preload: 3, modal: !1, loop: !0, ajax: { dataType: "html", headers: { "X-fancyBox": !0 } }, iframe: { scrolling: "auto", preload: !0 }, swf: { wmode: "transparent", allowfullscreen: "true", allowscriptaccess: "always" }, keys: { next: { 13: "left", 34: "up", 39: "left", 40: "up" }, prev: { 8: "right", 33: "down", 37: "right", 38: "down" }, close: [27], play: [32], toggle: [70] }, direction: { next: "left", prev: "right" }, scrollOutside: !0, index: 0, type: null, href: null, content: null, title: null, tpl: { wrap: '<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>', image: '<img class="fancybox-image" src="{href}" alt="" />', iframe: '<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen' + (l ? ' allowtransparency="true"' : "") + "></iframe>", error: '<p class="fancybox-error">El contenido solicitado no se puede cargar.<br/>Por favor, inténtelo de nuevo más tarde.</p>', closeBtn: '<a class="fancybox-item fancybox-close" href="javascript:;"><i class="fa fa-times" aria-hidden="true"></i></a>', next: '<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>', prev: '<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>' }, openEffect: "fade", openSpeed: 250, openEasing: "swing", openOpacity: !0, openMethod: "zoomIn", closeEffect: "fade", closeSpeed: 250, closeEasing: "swing", closeOpacity: !0, closeMethod: "zoomOut", nextEffect: "elastic", nextSpeed: 250, nextEasing: "swing", nextMethod: "changeIn", prevEffect: "elastic", prevSpeed: 250, prevEasing: "swing", prevMethod: "changeOut", helpers: { overlay: !0, title: !0 }, onCancel: i.noop, beforeLoad: i.noop, afterLoad: i.noop, beforeShow: i.noop, afterShow: i.noop, beforeChange: i.noop, beforeClose: i.noop, afterClose: i.noop }, group: {}, opts: {}, previous: null, coming: null, current: null, isActive: !1, isOpen: !1, isOpened: !1, wrap: null, skin: null, outer: null, inner: null, player: { timer: null, isActive: !1 }, ajaxLoad: null, imgPreload: null, transitions: {}, helpers: {}, open: function (e, t) { return e && (i.isPlainObject(t) || (t = {}), !1 !== s.close(!0)) ? (i.isArray(e) || (e = p(e) ? i(e).get() : [e]), i.each(e, function (o, a) { var r, l, c, d, f, u, g, m = {}; "object" === i.type(a) && (a.nodeType && (a = i(a)), p(a) ? (m = { href: a.data("fancybox-href") || a.attr("href"), title: a.data("fancybox-title") || a.attr("title"), isDom: !0, element: a }, i.metadata && i.extend(!0, m, a.metadata())) : m = a), r = t.href || m.href || (h(a) ? a : null), l = t.title !== n ? t.title : m.title || "", c = t.content || m.content, d = c ? "html" : t.type || m.type, !d && m.isDom && (d = a.data("fancybox-type"), d || (f = a.prop("class").match(/fancybox\.(\w+)/), d = f ? f[1] : null)), h(r) && (d || (s.isImage(r) ? d = "image" : s.isSWF(r) ? d = "swf" : "#" === r.charAt(0) ? d = "inline" : h(a) && (d = "html", c = a)), "ajax" === d && (u = r.split(/\s+/, 2), r = u.shift(), g = u.shift())), c || ("inline" === d ? r ? c = i(h(r) ? r.replace(/.*(?=#[^\s]+$)/, "") : r) : m.isDom && (c = a) : "html" === d ? c = r : d || r || !m.isDom || (d = "inline", c = a)), i.extend(m, { href: r, type: d, content: c, title: l, selector: g }), e[o] = m }), s.opts = i.extend(!0, {}, s.defaults, t), t.keys !== n && (s.opts.keys = t.keys ? i.extend({}, s.defaults.keys, t.keys) : !1), s.group = e, s._start(s.opts.index)) : void 0 }, cancel: function () { var e = s.coming; e && !1 !== s.trigger("onCancel") && (s.hideLoading(), s.ajaxLoad && s.ajaxLoad.abort(), s.ajaxLoad = null, s.imgPreload && (s.imgPreload.onload = s.imgPreload.onerror = null), e.wrap && e.wrap.stop(!0, !0).trigger("onReset").remove(), s.coming = null, s.current || s._afterZoomOut(e)) }, close: function (e) { s.cancel(), !1 !== s.trigger("beforeClose") && (s.indeindEvents(), s.isActive && (s.isOpen && e !== !0 ? (s.isOpen = s.isOpened = !1, s.isClosing = !0, i(".fancybox-item, .fancybox-nav").remove(), s.wrap.stop(!0, !0).removeClass("fancybox-opened"), s.transitions[s.current.closeMethod]()) : (i(".fancybox-wrap").stop(!0).trigger("onReset").remove(), s._afterZoomOut()))) }, play: function (e) { var t = function () { clearTimeout(s.player.timer) }, i = function () { t(), s.current && s.player.isActive && (s.player.timer = setTimeout(s.next, s.current.playSpeed)) }, n = function () { t(), r.unbind(".player"), s.player.isActive = !1, s.trigger("onPlayEnd") }, o = function () { s.current && (s.current.loop || s.current.index < s.group.length - 1) && (s.player.isActive = !0, r.bind({ "onCancel.player beforeClose.player": n, "onUpdate.player": i, "beforeLoad.player": t }), i(), s.trigger("onPlayStart")) }; e === !0 || !s.player.isActive && e !== !1 ? o() : n() }, next: function (e) { var t = s.current; t && (h(e) || (e = t.direction.next), s.jumpto(t.index + 1, e, "next")) }, prev: function (e) { var t = s.current; t && (h(e) || (e = t.direction.prev), s.jumpto(t.index - 1, e, "prev")) }, jumpto: function (e, t, i) { var o = s.current; o && (e = g(e), s.direction = t || o.direction[e >= o.index ? "next" : "prev"], s.router = i || "jumpto", o.loop && (0 > e && (e = o.group.length + e % o.group.length), e %= o.group.length), o.group[e] !== n && (s.cancel(), s._start(e))) }, reposition: function (e, t) { var n, o = s.current, a = o ? o.wrap : null; a && (n = s._getPosition(t), e && "scroll" === e.type ? (delete n.position, a.stop(!0, !0).animate(n, 200)) : (a.css(n), o.pos = i.extend({}, o.dim, n))) }, update: function (e) { var t = e && e.type, i = !t || "orientationchange" === t; i && (clearTimeout(c), c = null), s.isOpen && !c && (c = setTimeout(function () { var n = s.current; n && !s.isClosing && (s.wrap.removeClass("fancybox-tmp"), (i || "load" === t || "resize" === t && n.autoResize) && s._setDimension(), "scroll" === t && n.canShrink || s.reposition(e), s.trigger("onUpdate"), c = null) }, i && !d ? 0 : 300)) }, toggle: function (e) { s.isOpen && (s.current.fitToView = "boolean" === i.type(e) ? e : !s.current.fitToView, d && (s.wrap.removeAttr("style").addClass("fancybox-tmp"), s.trigger("onUpdate")), s.update()) }, hideLoading: function () { r.unbind(".loading"), i("#fancybox-loading").remove() }, showLoading: function () { var e, t; s.hideLoading(), e = i('<div id="fancybox-loading"><div></div></div>').click(s.cancel).appendTo("body"), r.bind("keydown.loading", function (e) { 27 === (e.which || e.keyCode) && (e.preventDefault(), s.cancel()) }), s.defaults.fixed || (t = s.getViewport(), e.css({ position: "absolute", top: .5 * t.h + t.y, left: .5 * t.w + t.x })) }, getViewport: function () { var t = s.current && s.current.locked || !1, i = { x: a.scrollLeft(), y: a.scrollTop() }; return t ? (i.w = t[0].clientWidth, i.h = t[0].clientHeight) : (i.w = d && e.innerWidth ? e.innerWidth : a.width(), i.h = d && e.innerHeight ? e.innerHeight : a.height()), i }, unbindEvents: function () { s.wrap && p(s.wrap) && s.wrap.unbind(".fb"), r.unbind(".fb"), a.unbind(".fb") }, bindEvents: function () { var e, t = s.current; t && (a.bind("orientationchange.fb" + (d ? "" : " resize.fb") + (t.autoCenter && !t.locked ? " scroll.fb" : ""), s.update), e = t.keys, e && r.bind("keydown.fb", function (o) { var a = o.which || o.keyCode, r = o.target || o.srcElement; return 27 === a && s.coming ? !1 : void (o.ctrlKey || o.altKey || o.shiftKey || o.metaKey || r && (r.type || i(r).is("[contenteditable]")) || i.each(e, function (e, r) { return t.group.length > 1 && r[a] !== n ? (s[e](r[a]), o.preventDefault(), !1) : i.inArray(a, r) > -1 ? (s[e](), o.preventDefault(), !1) : void 0 })) }), i.fn.mousewheel && t.mouseWheel && s.wrap.bind("mousewheel.fb", function (e, n, o, a) { for (var r = e.target || null, l = i(r), c = !1; l.length && !(c || l.is(".fancybox-skin") || l.is(".fancybox-wrap")) ;) c = u(l[0]), l = i(l).parent(); 0 === n || c || s.group.length > 1 && !t.canShrink && (a > 0 || o > 0 ? s.prev(a > 0 ? "down" : "left") : (0 > a || 0 > o) && s.next(0 > a ? "up" : "right"), e.preventDefault()) })) }, trigger: function (e, t) { var n, o = t || s.coming || s.current; if (o) { if (i.isFunction(o[e]) && (n = o[e].apply(o, Array.prototype.slice.call(arguments, 1))), n === !1) return !1; o.helpers && i.each(o.helpers, function (t, n) { n && s.helpers[t] && i.isFunction(s.helpers[t][e]) && s.helpers[t][e](i.extend(!0, {}, s.helpers[t].defaults, n), o) }), r.trigger(e) } }, isImage: function (e) { return h(e) && e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i) }, isSWF: function (e) { return h(e) && e.match(/\.(swf)((\?|#).*)?$/i) }, _start: function (e) { var t, n, o, a, r, l = {}; if (e = g(e), t = s.group[e] || null, !t) return !1; if (l = i.extend(!0, {}, s.opts, t), a = l.margin, r = l.padding, "number" === i.type(a) && (l.margin = [a, a, a, a]), "number" === i.type(r) && (l.padding = [r, r, r, r]), l.modal && i.extend(!0, l, { closeBtn: !1, closeClick: !1, nextClick: !1, arrows: !1, mouseWheel: !1, keys: null, helpers: { overlay: { closeClick: !1 } } }), l.autoSize && (l.autoWidth = l.autoHeight = !0), "auto" === l.width && (l.autoWidth = !0), "auto" === l.height && (l.autoHeight = !0), l.group = s.group, l.index = e, s.coming = l, !1 === s.trigger("beforeLoad")) return void (s.coming = null); if (o = l.type, n = l.href, !o) return s.coming = null, s.current && s.router && "jumpto" !== s.router ? (s.current.index = e, s[s.router](s.direction)) : !1; if (s.isActive = !0, ("image" === o || "swf" === o) && (l.autoHeight = l.autoWidth = !1, l.scrolling = "visible"), "image" === o && (l.aspectRatio = !0), "iframe" === o && d && (l.scrolling = "scroll"), l.wrap = i(l.tpl.wrap).addClass("fancybox-" + (d ? "mobile" : "desktop") + " fancybox-type-" + o + " fancybox-tmp " + l.wrapCSS).appendTo(l.parent || "body"), i.extend(l, { skin: i(".fancybox-skin", l.wrap), outer: i(".fancybox-outer", l.wrap), inner: i(".fancybox-inner", l.wrap) }), i.each(["Top", "Right", "Bottom", "Left"], function (e, t) { l.skin.css("padding" + t, m(l.padding[e])) }), s.trigger("onReady"), "inline" === o || "html" === o) { if (!l.content || !l.content.length) return s._error("content") } else if (!n) return s._error("href"); "image" === o ? s._loadImage() : "ajax" === o ? s._loadAjax() : "iframe" === o ? s._loadIframe() : s._afterLoad() }, _error: function (e) { i.extend(s.coming, { type: "html", autoWidth: !0, autoHeight: !0, minWidth: 0, minHeight: 0, scrolling: "no", hasError: e, content: s.coming.tpl.error }), s._afterLoad() }, _loadImage: function () { var e = s.imgPreload = new Image; e.onload = function () { this.onload = this.onerror = null, s.coming.width = this.width / s.opts.pixelRatio, s.coming.height = this.height / s.opts.pixelRatio, s._afterLoad() }, e.onerror = function () { this.onload = this.onerror = null, s._error("image") }, e.src = s.coming.href, e.complete !== !0 && s.showLoading() }, _loadAjax: function () { var e = s.coming; s.showLoading(), s.ajaxLoad = i.ajax(i.extend({}, e.ajax, { url: e.href, error: function (e, t) { s.coming && "abort" !== t ? s._error("ajax", e) : s.hideLoading() }, success: function (t, i) { "success" === i && (e.content = t, s._afterLoad()) } })) }, _loadIframe: function () { var e = s.coming, t = i(e.tpl.iframe.replace(/\{rnd\}/g, (new Date).getTime())).attr("scrolling", d ? "auto" : e.iframe.scrolling).attr("src", e.href); i(e.wrap).bind("onReset", function () { try { i(this).find("iframe").hide().attr("src", "//about:blank").end().empty() } catch (e) { } }), e.iframe.preload && (s.showLoading(), t.one("load", function () { i(this).data("ready", 1), d || i(this).bind("load.fb", s.update), i(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(), s._afterLoad() })), e.content = t.appendTo(e.inner), e.iframe.preload || s._afterLoad() }, _preloadImages: function () { var e, t, i = s.group, n = s.current, o = i.length, a = n.preload ? Math.min(n.preload, o - 1) : 0; for (t = 1; a >= t; t += 1) e = i[(n.index + t) % o], "image" === e.type && e.href && ((new Image).src = e.href) }, _afterLoad: function () { var e, t, n, o, a, r, l = s.coming, c = s.current, d = "fancybox-placeholder"; if (s.hideLoading(), l && s.isActive !== !1) { if (!1 === s.trigger("afterLoad", l, c)) return l.wrap.stop(!0).trigger("onReset").remove(), void (s.coming = null); switch (c && (s.trigger("beforeChange", c), c.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()), s.unbindEvents(), e = l, t = l.content, n = l.type, o = l.scrolling, i.extend(s, { wrap: e.wrap, skin: e.skin, outer: e.outer, inner: e.inner, current: e, previous: c }), a = e.href, n) { case "inline": case "ajax": case "html": e.selector ? t = i("<div>").html(t).find(e.selector) : p(t) && (t.data(d) || t.data(d, i('<div class="' + d + '"></div>').insertAfter(t).hide()), t = t.show().detach(), e.wrap.bind("onReset", function () { i(this).find(t).length && t.hide().replaceAll(t.data(d)).data(d, !1) })); break; case "image": t = e.tpl.image.replace("{href}", a); break; case "swf": t = '<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="' + a + '"></param>', r = "", i.each(e.swf, function (e, i) { t += '<param name="' + e + '" value="' + i + '"></param>', r += " " + e + '="' + i + '"' }), t += '<embed src="' + a + '" type="application/x-shockwave-flash" width="100%" height="100%"' + r + "></embed></object>" } p(t) && t.parent().is(e.inner) || e.inner.append(t), s.trigger("beforeShow"), e.inner.css("overflow", "yes" === o ? "scroll" : "no" === o ? "hidden" : o), s._setDimension(), s.reposition(), s.isOpen = !1, s.coming = null, s.bindEvents(), s.isOpened ? c.prevMethod && s.transitions[c.prevMethod]() : i(".fancybox-wrap").not(e.wrap).stop(!0).trigger("onReset").remove(), s.transitions[s.isOpened ? e.nextMethod : e.openMethod](), s._preloadImages() } }, _setDimension: function () { var e, t, n, o, a, r, l, c, d, p, h, u, y, x, v, w = s.getViewport(), b = 0, k = !1, C = !1, O = s.wrap, W = s.skin, _ = s.inner, S = s.current, T = S.width, L = S.height, E = S.minWidth, R = S.minHeight, j = S.maxWidth, P = S.maxHeight, H = S.scrolling, M = S.scrollOutside ? S.scrollbarWidth : 0, A = S.margin, I = g(A[1] + A[3]), D = g(A[0] + A[2]); if (O.add(W).add(_).width("auto").height("auto").removeClass("fancybox-tmp"), e = g(W.outerWidth(!0) - W.width()), t = g(W.outerHeight(!0) - W.height()), n = I + e, o = D + t, a = f(T) ? (w.w - n) * g(T) / 100 : T, r = f(L) ? (w.h - o) * g(L) / 100 : L, "iframe" === S.type) { if (x = S.content, S.autoHeight && 1 === x.data("ready")) try { x[0].contentWindow.document.location && (_.width(a).height(9999), v = x.contents().find("body"), M && v.css("overflow-x", "hidden"), r = v.outerHeight(!0)) } catch (z) { } } else (S.autoWidth || S.autoHeight) && (_.addClass("fancybox-tmp"), S.autoWidth || _.width(a), S.autoHeight || _.height(r), S.autoWidth && (a = _.width()), S.autoHeight && (r = _.height()), _.removeClass("fancybox-tmp")); if (T = g(a), L = g(r), d = a / r, E = g(f(E) ? g(E, "w") - n : E), j = g(f(j) ? g(j, "w") - n : j), R = g(f(R) ? g(R, "h") - o : R), P = g(f(P) ? g(P, "h") - o : P), l = j, c = P, S.fitToView && (j = Math.min(w.w - n, j), P = Math.min(w.h - o, P)), u = w.w - I, y = w.h - D, S.aspectRatio ? (T > j && (T = j, L = g(T / d)), L > P && (L = P, T = g(L * d)), E > T && (T = E, L = g(T / d)), R > L && (L = R, T = g(L * d))) : (T = Math.max(E, Math.min(T, j)), S.autoHeight && "iframe" !== S.type && (_.width(T), L = _.height()), L = Math.max(R, Math.min(L, P))), S.fitToView) if (_.width(T).height(L), O.width(T + e), p = O.width(), h = O.height(), S.aspectRatio) for (; (p > u || h > y) && T > E && L > R && !(b++ > 19) ;) L = Math.max(R, Math.min(P, L - 10)), T = g(L * d), E > T && (T = E, L = g(T / d)), T > j && (T = j, L = g(T / d)), _.width(T).height(L), O.width(T + e), p = O.width(), h = O.height(); else T = Math.max(E, Math.min(T, T - (p - u))), L = Math.max(R, Math.min(L, L - (h - y))); M && "auto" === H && r > L && u > T + e + M && (T += M), _.width(T).height(L), O.width(T + e), p = O.width(), h = O.height(), k = (p > u || h > y) && T > E && L > R, C = S.aspectRatio ? l > T && c > L && a > T && r > L : (l > T || c > L) && (a > T || r > L), i.extend(S, { dim: { width: m(p), height: m(h) }, origWidth: a, origHeight: r, canShrink: k, canExpand: C, wPadding: e, hPadding: t, wrapSpace: h - W.outerHeight(!0), skinSpace: W.height() - L }), !x && S.autoHeight && L > R && P > L && !C && _.height("auto") }, _getPosition: function (e) { var t = s.current, i = s.getViewport(), n = t.margin, o = s.wrap.width() + n[1] + n[3], a = s.wrap.height() + n[0] + n[2], r = { position: "absolute", top: n[0], left: n[3] }; return t.autoCenter && t.fixed && !e && a <= i.h && o <= i.w ? r.position = "fixed" : t.locked || (r.top += i.y, r.left += i.x), r.top = m(Math.max(r.top, r.top + (i.h - a) * t.topRatio)), r.left = m(Math.max(r.left, r.left + (i.w - o) * t.leftRatio)), r }, _afterZoomIn: function () { var e = s.current; e && (s.isOpen = s.isOpened = !0, s.wrap.css("overflow", "visible").addClass("fancybox-opened"), s.update(), (e.closeClick || e.nextClick && s.group.length > 1) && s.inner.css("cursor", "pointer").bind("click.fb", function (t) { i(t.target).is("a") || i(t.target).parent().is("a") || (t.preventDefault(), s[e.closeClick ? "close" : "next"]()) }), e.closeBtn && i(e.tpl.closeBtn).appendTo(s.skin).bind("click.fb", function (e) { e.preventDefault(), s.close() }), e.arrows && s.group.length > 1 && ((e.loop || e.index > 0) && i(e.tpl.prev).appendTo(s.outer).bind("click.fb", s.prev), (e.loop || e.index < s.group.length - 1) && i(e.tpl.next).appendTo(s.outer).bind("click.fb", s.next)), s.trigger("afterShow"), e.loop || e.index !== e.group.length - 1 ? s.opts.autoPlay && !s.player.isActive && (s.opts.autoPlay = !1, s.play()) : s.play(!1)) }, _afterZoomOut: function (e) { e = e || s.current, i(".fancybox-wrap").trigger("onReset").remove(), i.extend(s, { group: {}, opts: {}, router: !1, current: null, isActive: !1, isOpened: !1, isOpen: !1, isClosing: !1, wrap: null, skin: null, outer: null, inner: null }), s.trigger("afterClose", e) } }), s.transitions = { getOrigPosition: function () { var e = s.current, t = e.element, i = e.orig, n = {}, o = 50, a = 50, r = e.hPadding, l = e.wPadding, c = s.getViewport(); return !i && e.isDom && t.is(":visible") && (i = t.find("img:first"), i.length || (i = t)), p(i) ? (n = i.offset(), i.is("img") && (o = i.outerWidth(), a = i.outerHeight())) : (n.top = c.y + (c.h - a) * e.topRatio, n.left = c.x + (c.w - o) * e.leftRatio), ("fixed" === s.wrap.css("position") || e.locked) && (n.top -= c.y, n.left -= c.x), n = { top: m(n.top - r * e.topRatio), left: m(n.left - l * e.leftRatio), width: m(o + l), height: m(a + r) } }, step: function (e, t) { var i, n, o, a = t.prop, r = s.current, l = r.wrapSpace, c = r.skinSpace; ("width" === a || "height" === a) && (i = t.end === t.start ? 1 : (e - t.start) / (t.end - t.start), s.isClosing && (i = 1 - i), n = "width" === a ? r.wPadding : r.hPadding, o = e - n, s.skin[a](g("width" === a ? o : o - l * i)), s.inner[a](g("width" === a ? o : o - l * i - c * i))) }, zoomIn: function () { var e = s.current, t = e.pos, n = e.openEffect, o = "elastic" === n, a = i.extend({ opacity: 1 }, t); delete a.position, o ? (t = this.getOrigPosition(), e.openOpacity && (t.opacity = .1)) : "fade" === n && (t.opacity = .1), s.wrap.css(t).animate(a, { duration: "none" === n ? 0 : e.openSpeed, easing: e.openEasing, step: o ? this.step : null, complete: s._afterZoomIn }) }, zoomOut: function () { var e = s.current, t = e.closeEffect, i = "elastic" === t, n = { opacity: .1 }; i && (n = this.getOrigPosition(), e.closeOpacity && (n.opacity = .1)), s.wrap.animate(n, { duration: "none" === t ? 0 : e.closeSpeed, easing: e.closeEasing, step: i ? this.step : null, complete: s._afterZoomOut }) }, changeIn: function () { var e, t = s.current, i = t.nextEffect, n = t.pos, o = { opacity: 1 }, a = s.direction, r = 200; n.opacity = .1, "elastic" === i && (e = "down" === a || "up" === a ? "top" : "left", "down" === a || "right" === a ? (n[e] = m(g(n[e]) - r), o[e] = "+=" + r + "px") : (n[e] = m(g(n[e]) + r), o[e] = "-=" + r + "px")), "none" === i ? s._afterZoomIn() : s.wrap.css(n).animate(o, { duration: t.nextSpeed, easing: t.nextEasing, complete: s._afterZoomIn }) }, changeOut: function () { var e = s.previous, t = e.prevEffect, n = { opacity: .1 }, o = s.direction, a = 200; "elastic" === t && (n["down" === o || "up" === o ? "top" : "left"] = ("up" === o || "left" === o ? "-" : "+") + "=" + a + "px"), e.wrap.animate(n, { duration: "none" === t ? 0 : e.prevSpeed, easing: e.prevEasing, complete: function () { i(this).trigger("onReset").remove() } }) } }, s.helpers.overlay = { defaults: { closeClick: !0, speedOut: 200, showEarly: !0, css: {}, locked: !d, fixed: !0 }, overlay: null, fixed: !1, el: i("html"), create: function (e) { e = i.extend({}, this.defaults, e), this.overlay && this.close(), this.overlay = i('<div class="fancybox-overlay"></div>').appendTo(s.coming ? s.coming.parent : e.parent), this.fixed = !1, e.fixed && s.defaults.fixed && (this.overlay.addClass("fancybox-overlay-fixed"), this.fixed = !0) }, open: function (e) { var t = this; e = i.extend({}, this.defaults, e), this.overlay ? this.overlay.unbind(".overlay").width("auto").height("auto") : this.create(e), this.fixed || (a.bind("resize.overlay", i.proxy(this.update, this)), this.update()), e.closeClick && this.overlay.bind("click.overlay", function (e) { return i(e.target).hasClass("fancybox-overlay") ? (s.isActive ? s.close() : t.close(), !1) : void 0 }), this.overlay.css(e.css).show() }, close: function () { var e, t; a.unbind("resize.overlay"), this.el.hasClass("fancybox-lock") && (i(".fancybox-margin").removeClass("fancybox-margin"), e = a.scrollTop(), t = a.scrollLeft(), this.el.removeClass("fancybox-lock"), a.scrollTop(e).scrollLeft(t)), i(".fancybox-overlay").remove().hide(), i.extend(this, { overlay: null, fixed: !1 }) }, update: function () { var e, i = "100%"; this.overlay.width(i).height("100%"), l ? (e = Math.max(t.documentElement.offsetWidth, t.body.offsetWidth), r.width() > e && (i = r.width())) : r.width() > a.width() && (i = r.width()), this.overlay.width(i).height(r.height()) }, onReady: function (e, t) { var n = this.overlay; i(".fancybox-overlay").stop(!0, !0), n || this.create(e), e.locked && this.fixed && t.fixed && (n || (this.margin = r.height() > a.height() ? i("html").css("margin-right").replace("px", "") : !1), t.locked = this.overlay.append(t.wrap), t.fixed = !1), e.showEarly === !0 && this.beforeShow.apply(this, arguments) }, beforeShow: function (e, t) { var n, o; t.locked && (this.margin !== !1 && (i("*").filter(function () { return "fixed" === i(this).css("position") && !i(this).hasClass("fancybox-overlay") && !i(this).hasClass("fancybox-wrap") }).addClass("fancybox-margin"), this.el.addClass("fancybox-margin")), n = a.scrollTop(), o = a.scrollLeft(), this.el.addClass("fancybox-lock"), a.scrollTop(n).scrollLeft(o)), this.open(e) }, onUpdate: function () { this.fixed || this.update() }, afterClose: function (e) { this.overlay && !s.coming && this.overlay.fadeOut(e.speedOut, i.proxy(this.close, this)) } }, s.helpers.title = { defaults: { type: "float", position: "bottom" }, beforeShow: function (e) { var t, n, o = s.current, a = o.title, r = e.type; if (i.isFunction(a) && (a = a.call(o.element, o)), h(a) && "" !== i.trim(a)) { switch (t = i('<div class="fancybox-title fancybox-title-' + r + '-wrap">' + a + "</div>"), r) { case "inside": n = s.skin; break; case "outside": n = s.wrap; break; case "over": n = s.inner; break; default: n = s.skin, t.appendTo("body"), l && t.width(t.width()), t.wrapInner('<span class="child"></span>'), s.current.margin[2] += Math.abs(g(t.css("margin-bottom"))) } t["top" === e.position ? "prependTo" : "appendTo"](n) } } }, i.fn.fancybox = function (e) { var t, n = i(this), o = this.selector || "", a = function (a) { var r, l, c = i(this).blur(), d = t; a.ctrlKey || a.altKey || a.shiftKey || a.metaKey || c.is(".fancybox-wrap") || (r = e.groupAttr || "data-fancybox-group", l = c.attr(r), l || (r = "rel", l = c.get(0)[r]), l && "" !== l && "nofollow" !== l && (c = o.length ? i(o) : n, c = c.filter("[" + r + '="' + l + '"]'), d = c.index(this)), e.index = d, s.open(c, e) !== !1 && a.preventDefault()) }; return e = e || {}, t = e.index || 0, o && e.live !== !1 ? r.undelegate(o, "click.fb-start").delegate(o + ":not('.fancybox-item, .fancybox-nav')", "click.fb-start", a) : n.unbind("click.fb-start").bind("click.fb-start", a), this.filter("[data-fancybox-start=1]").trigger("click"), this }, r.ready(function () { var t, a; i.scrollbarWidth === n && (i.scrollbarWidth = function () { var e = i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"), t = e.children(), n = t.innerWidth() - t.height(99).innerWidth(); return e.remove(), n }), i.support.fixedPosition === n && (i.support.fixedPosition = function () { var e = i('<div style="position:fixed;top:20px;"></div>').appendTo("body"), t = 20 === e[0].offsetTop || 15 === e[0].offsetTop; return e.remove(), t }()), i.extend(s.defaults, { scrollbarWidth: i.scrollbarWidth(), fixed: i.support.fixedPosition, parent: i("body") }), t = i(e).width(), o.addClass("fancybox-lock-test"), a = i(e).width(), o.removeClass("fancybox-lock-test"), i("<style type='text/css'>.fancybox-margin{margin-right:" + (a - t) + "px;}</style>").appendTo("head") }) }(window, document, jQuery);
/* fancybox pack */ !function (e, t, i, n) { var o = i("html"), a = i(e), r = i(t), s = i.fancybox = function () { s.open.apply(this, arguments) }, l = navigator.userAgent.match(/msie/i), c = null, d = t.createTouch !== n, p = function (e) { return e && e.hasOwnProperty && e instanceof i }, h = function (e) { return e && "string" === i.type(e) }, f = function (e) { return h(e) && 0 < e.indexOf("%") }, u = function (e, t) { var i = parseInt(e, 10) || 0; return t && f(e) && (i *= s.getViewport()[t] / 100), Math.ceil(i) }, g = function (e, t) { return u(e, t) + "px" }; i.extend(s, { version: "2.1.5", defaults: { padding: 0, margin: 20, width: 800, height: 600, minWidth: 100, minHeight: 100, maxWidth: 9999, maxHeight: 9999, pixelRatio: 1, autoSize: !0, autoHeight: !1, autoWidth: !1, autoResize: !0, autoCenter: !d, fitToView: !0, aspectRatio: !1, topRatio: .5, leftRatio: .5, scrolling: "auto", wrapCSS: "", arrows: !0, closeBtn: !0, closeClick: !1, nextClick: !1, mouseWheel: !0, autoPlay: !1, playSpeed: 3e3, preload: 3, modal: !1, loop: !0, ajax: { dataType: "html", headers: { "X-fancyBox": !0 } }, iframe: { scrolling: "auto", preload: !0 }, swf: { wmode: "transparent", allowfullscreen: "true", allowscriptaccess: "always" }, keys: { next: { 13: "left", 34: "up", 39: "left", 40: "up" }, prev: { 8: "right", 33: "down", 37: "right", 38: "down" }, close: [27], play: [32], toggle: [70] }, direction: { next: "left", prev: "right" }, scrollOutside: !0, index: 0, type: null, href: null, content: null, title: null, tpl: { wrap: '<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>', image: '<img class="fancybox-image" src="{href}" alt="" />', iframe: '<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen' + (l ? ' allowtransparency="true"' : "") + "></iframe>", error: '<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>', closeBtn: '<a class="fancybox-item fancybox-close" href="javascript:;"><i class="fa fa-times" aria-hidden="true"></i></a>', next: '<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>', prev: '<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>' }, openEffect: "fade", openSpeed: 250, openEasing: "swing", openOpacity: !0, openMethod: "zoomIn", closeEffect: "fade", closeSpeed: 250, closeEasing: "swing", closeOpacity: !0, closeMethod: "zoomOut", nextEffect: "elastic", nextSpeed: 250, nextEasing: "swing", nextMethod: "changeIn", prevEffect: "elastic", prevSpeed: 250, prevEasing: "swing", prevMethod: "changeOut", helpers: { overlay: !0, title: !0 }, onCancel: i.noop, beforeLoad: i.noop, afterLoad: i.noop, beforeShow: i.noop, afterShow: i.noop, beforeChange: i.noop, beforeClose: i.noop, afterClose: i.noop }, group: {}, opts: {}, previous: null, coming: null, current: null, isActive: !1, isOpen: !1, isOpened: !1, wrap: null, skin: null, outer: null, inner: null, player: { timer: null, isActive: !1 }, ajaxLoad: null, imgPreload: null, transitions: {}, helpers: {}, open: function (e, t) { return e && (i.isPlainObject(t) || (t = {}), !1 !== s.close(!0)) ? (i.isArray(e) || (e = p(e) ? i(e).get() : [e]), i.each(e, function (o, a) { var r, l, c, d, f, u = {}; "object" === i.type(a) && (a.nodeType && (a = i(a)), p(a) ? (u = { href: a.data("fancybox-href") || a.attr("href"), title: a.data("fancybox-title") || a.attr("title"), isDom: !0, element: a }, i.metadata && i.extend(!0, u, a.metadata())) : u = a), r = t.href || u.href || (h(a) ? a : null), l = t.title !== n ? t.title : u.title || "", d = (c = t.content || u.content) ? "html" : t.type || u.type, !d && u.isDom && (d = a.data("fancybox-type"), d || (d = (d = a.prop("class").match(/fancybox\.(\w+)/)) ? d[1] : null)), h(r) && (d || (s.isImage(r) ? d = "image" : s.isSWF(r) ? d = "swf" : "#" === r.charAt(0) ? d = "inline" : h(a) && (d = "html", c = a)), "ajax" === d && (f = r.split(/\s+/, 2), r = f.shift(), f = f.shift())), c || ("inline" === d ? r ? c = i(h(r) ? r.replace(/.*(?=#[^\s]+$)/, "") : r) : u.isDom && (c = a) : "html" === d ? c = r : !d && !r && u.isDom && (d = "inline", c = a)), i.extend(u, { href: r, type: d, content: c, title: l, selector: f }), e[o] = u }), s.opts = i.extend(!0, {}, s.defaults, t), t.keys !== n && (s.opts.keys = t.keys ? i.extend({}, s.defaults.keys, t.keys) : !1), s.group = e, s._start(s.opts.index)) : void 0 }, cancel: function () { var e = s.coming; e && !1 !== s.trigger("onCancel") && (s.hideLoading(), s.ajaxLoad && s.ajaxLoad.abort(), s.ajaxLoad = null, s.imgPreload && (s.imgPreload.onload = s.imgPreload.onerror = null), e.wrap && e.wrap.stop(!0, !0).trigger("onReset").remove(), s.coming = null, s.current || s._afterZoomOut(e)) }, close: function (e) { s.cancel(), !1 !== s.trigger("beforeClose") && (s.unbindEvents(), s.isActive && (s.isOpen && !0 !== e ? (s.isOpen = s.isOpened = !1, s.isClosing = !0, i(".fancybox-item, .fancybox-nav").remove(), s.wrap.stop(!0, !0).removeClass("fancybox-opened"), s.transitions[s.current.closeMethod]()) : (i(".fancybox-wrap").stop(!0).trigger("onReset").remove(), s._afterZoomOut()))) }, play: function (e) { var t = function () { clearTimeout(s.player.timer) }, i = function () { t(), s.current && s.player.isActive && (s.player.timer = setTimeout(s.next, s.current.playSpeed)) }, n = function () { t(), r.unbind(".player"), s.player.isActive = !1, s.trigger("onPlayEnd") }; !0 === e || !s.player.isActive && !1 !== e ? s.current && (s.current.loop || s.current.index < s.group.length - 1) && (s.player.isActive = !0, r.bind({ "onCancel.player beforeClose.player": n, "onUpdate.player": i, "beforeLoad.player": t }), i(), s.trigger("onPlayStart")) : n() }, next: function (e) { var t = s.current; t && (h(e) || (e = t.direction.next), s.jumpto(t.index + 1, e, "next")) }, prev: function (e) { var t = s.current; t && (h(e) || (e = t.direction.prev), s.jumpto(t.index - 1, e, "prev")) }, jumpto: function (e, t, i) { var o = s.current; o && (e = u(e), s.direction = t || o.direction[e >= o.index ? "next" : "prev"], s.router = i || "jumpto", o.loop && (0 > e && (e = o.group.length + e % o.group.length), e %= o.group.length), o.group[e] !== n && (s.cancel(), s._start(e))) }, reposition: function (e, t) { var n, o = s.current, a = o ? o.wrap : null; a && (n = s._getPosition(t), e && "scroll" === e.type ? (delete n.position, a.stop(!0, !0).animate(n, 200)) : (a.css(n), o.pos = i.extend({}, o.dim, n))) }, update: function (e) { var t = e && e.type, i = !t || "orientationchange" === t; i && (clearTimeout(c), c = null), s.isOpen && !c && (c = setTimeout(function () { var n = s.current; n && !s.isClosing && (s.wrap.removeClass("fancybox-tmp"), (i || "load" === t || "resize" === t && n.autoResize) && s._setDimension(), "scroll" === t && n.canShrink || s.reposition(e), s.trigger("onUpdate"), c = null) }, i && !d ? 0 : 300)) }, toggle: function (e) { s.isOpen && (s.current.fitToView = "boolean" === i.type(e) ? e : !s.current.fitToView, d && (s.wrap.removeAttr("style").addClass("fancybox-tmp"), s.trigger("onUpdate")), s.update()) }, hideLoading: function () { r.unbind(".loading"), i("#fancybox-loading").remove() }, showLoading: function () { var e, t; s.hideLoading(), e = i('<div id="fancybox-loading"><div></div></div>').click(s.cancel).appendTo("body"), r.bind("keydown.loading", function (e) { 27 === (e.which || e.keyCode) && (e.preventDefault(), s.cancel()) }), s.defaults.fixed || (t = s.getViewport(), e.css({ position: "absolute", top: .5 * t.h + t.y, left: .5 * t.w + t.x })) }, getViewport: function () { var t = s.current && s.current.locked || !1, i = { x: a.scrollLeft(), y: a.scrollTop() }; return t ? (i.w = t[0].clientWidth, i.h = t[0].clientHeight) : (i.w = d && e.innerWidth ? e.innerWidth : a.width(), i.h = d && e.innerHeight ? e.innerHeight : a.height()), i }, unbindEvents: function () { s.wrap && p(s.wrap) && s.wrap.unbind(".fb"), r.unbind(".fb"), a.unbind(".fb") }, bindEvents: function () { var e, t = s.current; t && (a.bind("orientationchange.fb" + (d ? "" : " resize.fb") + (t.autoCenter && !t.locked ? " scroll.fb" : ""), s.update), (e = t.keys) && r.bind("keydown.fb", function (o) { var a = o.which || o.keyCode, r = o.target || o.srcElement; return 27 === a && s.coming ? !1 : void (!o.ctrlKey && !o.altKey && !o.shiftKey && !o.metaKey && (!r || !r.type && !i(r).is("[contenteditable]")) && i.each(e, function (e, r) { return 1 < t.group.length && r[a] !== n ? (s[e](r[a]), o.preventDefault(), !1) : -1 < i.inArray(a, r) ? (s[e](), o.preventDefault(), !1) : void 0 })) }), i.fn.mousewheel && t.mouseWheel && s.wrap.bind("mousewheel.fb", function (e, n, o, a) { for (var r = i(e.target || null), l = !1; r.length && !l && !r.is(".fancybox-skin") && !r.is(".fancybox-wrap") ;) l = r[0] && !(r[0].style.overflow && "hidden" === r[0].style.overflow) && (r[0].clientWidth && r[0].scrollWidth > r[0].clientWidth || r[0].clientHeight && r[0].scrollHeight > r[0].clientHeight), r = i(r).parent(); 0 !== n && !l && 1 < s.group.length && !t.canShrink && (a > 0 || o > 0 ? s.prev(a > 0 ? "down" : "left") : (0 > a || 0 > o) && s.next(0 > a ? "up" : "right"), e.preventDefault()) })) }, trigger: function (e, t) { var n, o = t || s.coming || s.current; if (o) { if (i.isFunction(o[e]) && (n = o[e].apply(o, Array.prototype.slice.call(arguments, 1))), !1 === n) return !1; o.helpers && i.each(o.helpers, function (t, n) { n && s.helpers[t] && i.isFunction(s.helpers[t][e]) && s.helpers[t][e](i.extend(!0, {}, s.helpers[t].defaults, n), o) }), r.trigger(e) } }, isImage: function (e) { return h(e) && e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i) }, isSWF: function (e) { return h(e) && e.match(/\.(swf)((\?|#).*)?$/i) }, _start: function (e) { var t, n, o = {}; if (e = u(e), t = s.group[e] || null, !t) return !1; if (o = i.extend(!0, {}, s.opts, t), t = o.margin, n = o.padding, "number" === i.type(t) && (o.margin = [t, t, t, t]), "number" === i.type(n) && (o.padding = [n, n, n, n]), o.modal && i.extend(!0, o, { closeBtn: !1, closeClick: !1, nextClick: !1, arrows: !1, mouseWheel: !1, keys: null, helpers: { overlay: { closeClick: !1 } } }), o.autoSize && (o.autoWidth = o.autoHeight = !0), "auto" === o.width && (o.autoWidth = !0), "auto" === o.height && (o.autoHeight = !0), o.group = s.group, o.index = e, s.coming = o, !1 === s.trigger("beforeLoad")) s.coming = null; else { if (n = o.type, t = o.href, !n) return s.coming = null, s.current && s.router && "jumpto" !== s.router ? (s.current.index = e, s[s.router](s.direction)) : !1; if (s.isActive = !0, ("image" === n || "swf" === n) && (o.autoHeight = o.autoWidth = !1, o.scrolling = "visible"), "image" === n && (o.aspectRatio = !0), "iframe" === n && d && (o.scrolling = "scroll"), o.wrap = i(o.tpl.wrap).addClass("fancybox-" + (d ? "mobile" : "desktop") + " fancybox-type-" + n + " fancybox-tmp " + o.wrapCSS).appendTo(o.parent || "body"), i.extend(o, { skin: i(".fancybox-skin", o.wrap), outer: i(".fancybox-outer", o.wrap), inner: i(".fancybox-inner", o.wrap) }), i.each(["Top", "Right", "Bottom", "Left"], function (e, t) { o.skin.css("padding" + t, g(o.padding[e])) }), s.trigger("onReady"), "inline" === n || "html" === n) { if (!o.content || !o.content.length) return s._error("content") } else if (!t) return s._error("href"); "image" === n ? s._loadImage() : "ajax" === n ? s._loadAjax() : "iframe" === n ? s._loadIframe() : s._afterLoad() } }, _error: function (e) { i.extend(s.coming, { type: "html", autoWidth: !0, autoHeight: !0, minWidth: 0, minHeight: 0, scrolling: "no", hasError: e, content: s.coming.tpl.error }), s._afterLoad() }, _loadImage: function () { var e = s.imgPreload = new Image; e.onload = function () { this.onload = this.onerror = null, s.coming.width = this.width / s.opts.pixelRatio, s.coming.height = this.height / s.opts.pixelRatio, s._afterLoad() }, e.onerror = function () { this.onload = this.onerror = null, s._error("image") }, e.src = s.coming.href, !0 !== e.complete && s.showLoading() }, _loadAjax: function () { var e = s.coming; s.showLoading(), s.ajaxLoad = i.ajax(i.extend({}, e.ajax, { url: e.href, error: function (e, t) { s.coming && "abort" !== t ? s._error("ajax", e) : s.hideLoading() }, success: function (t, i) { "success" === i && (e.content = t, s._afterLoad()) } })) }, _loadIframe: function () { var e = s.coming, t = i(e.tpl.iframe.replace(/\{rnd\}/g, (new Date).getTime())).attr("scrolling", d ? "auto" : e.iframe.scrolling).attr("src", e.href); i(e.wrap).bind("onReset", function () { try { i(this).find("iframe").hide().attr("src", "//about:blank").end().empty() } catch (e) { } }), e.iframe.preload && (s.showLoading(), t.one("load", function () { i(this).data("ready", 1), d || i(this).bind("load.fb", s.update), i(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(), s._afterLoad() })), e.content = t.appendTo(e.inner), e.iframe.preload || s._afterLoad() }, _preloadImages: function () { var e, t, i = s.group, n = s.current, o = i.length, a = n.preload ? Math.min(n.preload, o - 1) : 0; for (t = 1; a >= t; t += 1) e = i[(n.index + t) % o], "image" === e.type && e.href && ((new Image).src = e.href) }, _afterLoad: function () { var e, t, n, o, a, r = s.coming, l = s.current; if (s.hideLoading(), r && !1 !== s.isActive) if (!1 === s.trigger("afterLoad", r, l)) r.wrap.stop(!0).trigger("onReset").remove(), s.coming = null; else { switch (l && (s.trigger("beforeChange", l), l.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()), s.unbindEvents(), e = r.content, t = r.type, n = r.scrolling, i.extend(s, { wrap: r.wrap, skin: r.skin, outer: r.outer, inner: r.inner, current: r, previous: l }), o = r.href, t) { case "inline": case "ajax": case "html": r.selector ? e = i("<div>").html(e).find(r.selector) : p(e) && (e.data("fancybox-placeholder") || e.data("fancybox-placeholder", i('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()), e = e.show().detach(), r.wrap.bind("onReset", function () { i(this).find(e).length && e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder", !1) })); break; case "image": e = r.tpl.image.replace("{href}", o); break; case "swf": e = '<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="' + o + '"></param>', a = "", i.each(r.swf, function (t, i) { e += '<param name="' + t + '" value="' + i + '"></param>', a += " " + t + '="' + i + '"' }), e += '<embed src="' + o + '" type="application/x-shockwave-flash" width="100%" height="100%"' + a + "></embed></object>" } (!p(e) || !e.parent().is(r.inner)) && r.inner.append(e), s.trigger("beforeShow"), r.inner.css("overflow", "yes" === n ? "scroll" : "no" === n ? "hidden" : n), s._setDimension(), s.reposition(), s.isOpen = !1, s.coming = null, s.bindEvents(), s.isOpened ? l.prevMethod && s.transitions[l.prevMethod]() : i(".fancybox-wrap").not(r.wrap).stop(!0).trigger("onReset").remove(), s.transitions[s.isOpened ? r.nextMethod : r.openMethod](), s._preloadImages() } }, _setDimension: function () { var e, t, n, o, a, r, l, c, d, p = s.getViewport(), h = 0, m = !1, y = !1, m = s.wrap, x = s.skin, v = s.inner, w = s.current, y = w.width, b = w.height, k = w.minWidth, C = w.minHeight, O = w.maxWidth, W = w.maxHeight, _ = w.scrolling, S = w.scrollOutside ? w.scrollbarWidth : 0, T = w.margin, L = u(T[1] + T[3]), E = u(T[0] + T[2]); if (m.add(x).add(v).width("auto").height("auto").removeClass("fancybox-tmp"), T = u(x.outerWidth(!0) - x.width()), e = u(x.outerHeight(!0) - x.height()), t = L + T, n = E + e, o = f(y) ? (p.w - t) * u(y) / 100 : y, a = f(b) ? (p.h - n) * u(b) / 100 : b, "iframe" === w.type) { if (d = w.content, w.autoHeight && 1 === d.data("ready")) try { d[0].contentWindow.document.location && (v.width(o).height(9999), r = d.contents().find("body"), S && r.css("overflow-x", "hidden"), a = r.outerHeight(!0)) } catch (R) { } } else (w.autoWidth || w.autoHeight) && (v.addClass("fancybox-tmp"), w.autoWidth || v.width(o), w.autoHeight || v.height(a), w.autoWidth && (o = v.width()), w.autoHeight && (a = v.height()), v.removeClass("fancybox-tmp")); if (y = u(o), b = u(a), c = o / a, k = u(f(k) ? u(k, "w") - t : k), O = u(f(O) ? u(O, "w") - t : O), C = u(f(C) ? u(C, "h") - n : C), W = u(f(W) ? u(W, "h") - n : W), r = O, l = W, w.fitToView && (O = Math.min(p.w - t, O), W = Math.min(p.h - n, W)), t = p.w - L, E = p.h - E, w.aspectRatio ? (y > O && (y = O, b = u(y / c)), b > W && (b = W, y = u(b * c)), k > y && (y = k, b = u(y / c)), C > b && (b = C, y = u(b * c))) : (y = Math.max(k, Math.min(y, O)), w.autoHeight && "iframe" !== w.type && (v.width(y), b = v.height()), b = Math.max(C, Math.min(b, W))), w.fitToView) if (v.width(y).height(b), m.width(y + T), p = m.width(), L = m.height(), w.aspectRatio) for (; (p > t || L > E) && y > k && b > C && !(19 < h++) ;) b = Math.max(C, Math.min(W, b - 10)), y = u(b * c), k > y && (y = k, b = u(y / c)), y > O && (y = O, b = u(y / c)), v.width(y).height(b), m.width(y + T), p = m.width(), L = m.height(); else y = Math.max(k, Math.min(y, y - (p - t))), b = Math.max(C, Math.min(b, b - (L - E))); S && "auto" === _ && a > b && t > y + T + S && (y += S), v.width(y).height(b), m.width(y + T), p = m.width(), L = m.height(), m = (p > t || L > E) && y > k && b > C, y = w.aspectRatio ? r > y && l > b && o > y && a > b : (r > y || l > b) && (o > y || a > b), i.extend(w, { dim: { width: g(p), height: g(L) }, origWidth: o, origHeight: a, canShrink: m, canExpand: y, wPadding: T, hPadding: e, wrapSpace: L - x.outerHeight(!0), skinSpace: x.height() - b }), !d && w.autoHeight && b > C && W > b && !y && v.height("auto") }, _getPosition: function (e) { var t = s.current, i = s.getViewport(), n = t.margin, o = s.wrap.width() + n[1] + n[3], a = s.wrap.height() + n[0] + n[2], n = { position: "absolute", top: n[0], left: n[3] }; return t.autoCenter && t.fixed && !e && a <= i.h && o <= i.w ? n.position = "fixed" : t.locked || (n.top += i.y, n.left += i.x), n.top = g(Math.max(n.top, n.top + (i.h - a) * t.topRatio)), n.left = g(Math.max(n.left, n.left + (i.w - o) * t.leftRatio)), n }, _afterZoomIn: function () { var e = s.current; e && (s.isOpen = s.isOpened = !0, s.wrap.css("overflow", "visible").addClass("fancybox-opened"), s.update(), (e.closeClick || e.nextClick && 1 < s.group.length) && s.inner.css("cursor", "pointer").bind("click.fb", function (t) { !i(t.target).is("a") && !i(t.target).parent().is("a") && (t.preventDefault(), s[e.closeClick ? "close" : "next"]()) }), e.closeBtn && i(e.tpl.closeBtn).appendTo(s.skin).bind("click.fb", function (e) { e.preventDefault(), s.close() }), e.arrows && 1 < s.group.length && ((e.loop || 0 < e.index) && i(e.tpl.prev).appendTo(s.outer).bind("click.fb", s.prev), (e.loop || e.index < s.group.length - 1) && i(e.tpl.next).appendTo(s.outer).bind("click.fb", s.next)), s.trigger("afterShow"), e.loop || e.index !== e.group.length - 1 ? s.opts.autoPlay && !s.player.isActive && (s.opts.autoPlay = !1, s.play()) : s.play(!1)) }, _afterZoomOut: function (e) { e = e || s.current, i(".fancybox-wrap").trigger("onReset").remove(), i.extend(s, { group: {}, opts: {}, router: !1, current: null, isActive: !1, isOpened: !1, isOpen: !1, isClosing: !1, wrap: null, skin: null, outer: null, inner: null }), s.trigger("afterClose", e) } }), s.transitions = { getOrigPosition: function () { var e = s.current, t = e.element, i = e.orig, n = {}, o = 50, a = 50, r = e.hPadding, l = e.wPadding, c = s.getViewport(); return !i && e.isDom && t.is(":visible") && (i = t.find("img:first"), i.length || (i = t)), p(i) ? (n = i.offset(), i.is("img") && (o = i.outerWidth(), a = i.outerHeight())) : (n.top = c.y + (c.h - a) * e.topRatio, n.left = c.x + (c.w - o) * e.leftRatio), ("fixed" === s.wrap.css("position") || e.locked) && (n.top -= c.y, n.left -= c.x), n = { top: g(n.top - r * e.topRatio), left: g(n.left - l * e.leftRatio), width: g(o + l), height: g(a + r) } }, step: function (e, t) { var i, n, o = t.prop; n = s.current; var a = n.wrapSpace, r = n.skinSpace; ("width" === o || "height" === o) && (i = t.end === t.start ? 1 : (e - t.start) / (t.end - t.start), s.isClosing && (i = 1 - i), n = "width" === o ? n.wPadding : n.hPadding, n = e - n, s.skin[o](u("width" === o ? n : n - a * i)), s.inner[o](u("width" === o ? n : n - a * i - r * i))) }, zoomIn: function () { var e = s.current, t = e.pos, n = e.openEffect, o = "elastic" === n, a = i.extend({ opacity: 1 }, t); delete a.position, o ? (t = this.getOrigPosition(), e.openOpacity && (t.opacity = .1)) : "fade" === n && (t.opacity = .1), s.wrap.css(t).animate(a, { duration: "none" === n ? 0 : e.openSpeed, easing: e.openEasing, step: o ? this.step : null, complete: s._afterZoomIn }) }, zoomOut: function () { var e = s.current, t = e.closeEffect, i = "elastic" === t, n = { opacity: .1 }; i && (n = this.getOrigPosition(), e.closeOpacity && (n.opacity = .1)), s.wrap.animate(n, { duration: "none" === t ? 0 : e.closeSpeed, easing: e.closeEasing, step: i ? this.step : null, complete: s._afterZoomOut }) }, changeIn: function () { var e, t = s.current, i = t.nextEffect, n = t.pos, o = { opacity: 1 }, a = s.direction; n.opacity = .1, "elastic" === i && (e = "down" === a || "up" === a ? "top" : "left", "down" === a || "right" === a ? (n[e] = g(u(n[e]) - 200), o[e] = "+=200px") : (n[e] = g(u(n[e]) + 200), o[e] = "-=200px")), "none" === i ? s._afterZoomIn() : s.wrap.css(n).animate(o, { duration: t.nextSpeed, easing: t.nextEasing, complete: s._afterZoomIn }) }, changeOut: function () { var e = s.previous, t = e.prevEffect, n = { opacity: .1 }, o = s.direction; "elastic" === t && (n["down" === o || "up" === o ? "top" : "left"] = ("up" === o || "left" === o ? "-" : "+") + "=200px"), e.wrap.animate(n, { duration: "none" === t ? 0 : e.prevSpeed, easing: e.prevEasing, complete: function () { i(this).trigger("onReset").remove() } }) } }, s.helpers.overlay = { defaults: { closeClick: !0, speedOut: 200, showEarly: !0, css: {}, locked: !d, fixed: !0 }, overlay: null, fixed: !1, el: i("html"), create: function (e) { e = i.extend({}, this.defaults, e), this.overlay && this.close(), this.overlay = i('<div class="fancybox-overlay"></div>').appendTo(s.coming ? s.coming.parent : e.parent), this.fixed = !1, e.fixed && s.defaults.fixed && (this.overlay.addClass("fancybox-overlay-fixed"), this.fixed = !0) }, open: function (e) { var t = this; e = i.extend({}, this.defaults, e), this.overlay ? this.overlay.unbind(".overlay").width("auto").height("auto") : this.create(e), this.fixed || (a.bind("resize.overlay", i.proxy(this.update, this)), this.update()), e.closeClick && this.overlay.bind("click.overlay", function (e) { return i(e.target).hasClass("fancybox-overlay") ? (s.isActive ? s.close() : t.close(), !1) : void 0 }), this.overlay.css(e.css).show() }, close: function () { var e, t; a.unbind("resize.overlay"), this.el.hasClass("fancybox-lock") && (i(".fancybox-margin").removeClass("fancybox-margin"), e = a.scrollTop(), t = a.scrollLeft(), this.el.removeClass("fancybox-lock"), a.scrollTop(e).scrollLeft(t)), i(".fancybox-overlay").remove().hide(), i.extend(this, { overlay: null, fixed: !1 }) }, update: function () { var e, i = "100%"; this.overlay.width(i).height("100%"), l ? (e = Math.max(t.documentElement.offsetWidth, t.body.offsetWidth), r.width() > e && (i = r.width())) : r.width() > a.width() && (i = r.width()), this.overlay.width(i).height(r.height()) }, onReady: function (e, t) { var n = this.overlay; i(".fancybox-overlay").stop(!0, !0), n || this.create(e), e.locked && this.fixed && t.fixed && (n || (this.margin = r.height() > a.height() ? i("html").css("margin-right").replace("px", "") : !1), t.locked = this.overlay.append(t.wrap), t.fixed = !1), !0 === e.showEarly && this.beforeShow.apply(this, arguments) }, beforeShow: function (e, t) { var n, o; t.locked && (!1 !== this.margin && (i("*").filter(function () { return "fixed" === i(this).css("position") && !i(this).hasClass("fancybox-overlay") && !i(this).hasClass("fancybox-wrap") }).addClass("fancybox-margin"), this.el.addClass("fancybox-margin")), n = a.scrollTop(), o = a.scrollLeft(), this.el.addClass("fancybox-lock"), a.scrollTop(n).scrollLeft(o)), this.open(e) }, onUpdate: function () { this.fixed || this.update() }, afterClose: function (e) { this.overlay && !s.coming && this.overlay.fadeOut(e.speedOut, i.proxy(this.close, this)) } }, s.helpers.title = { defaults: { type: "float", position: "bottom" }, beforeShow: function (e) { var t = s.current, n = t.title, o = e.type; if (i.isFunction(n) && (n = n.call(t.element, t)), h(n) && "" !== i.trim(n)) { switch (t = i('<div class="fancybox-title fancybox-title-' + o + '-wrap">' + n + "</div>"), o) { case "inside": o = s.skin; break; case "outside": o = s.wrap; break; case "over": o = s.inner; break; default: o = s.skin, t.appendTo("body"), l && t.width(t.width()), t.wrapInner('<span class="child"></span>'), s.current.margin[2] += Math.abs(u(t.css("margin-bottom"))) } t["top" === e.position ? "prependTo" : "appendTo"](o) } } }, i.fn.fancybox = function (e) { var t, n = i(this), o = this.selector || "", a = function (a) { var r, l, c = i(this).blur(), d = t; !a.ctrlKey && !a.altKey && !a.shiftKey && !a.metaKey && !c.is(".fancybox-wrap") && (r = e.groupAttr || "data-fancybox-group", l = c.attr(r), l || (r = "rel", l = c.get(0)[r]), l && "" !== l && "nofollow" !== l && (c = o.length ? i(o) : n, c = c.filter("[" + r + '="' + l + '"]'), d = c.index(this)), e.index = d, !1 !== s.open(c, e) && a.preventDefault()) }; return e = e || {}, t = e.index || 0, o && !1 !== e.live ? r.undelegate(o, "click.fb-start").delegate(o + ":not('.fancybox-item, .fancybox-nav')", "click.fb-start", a) : n.unbind("click.fb-start").bind("click.fb-start", a), this.filter("[data-fancybox-start=1]").trigger("click"), this }, r.ready(function () { var t, a; if (i.scrollbarWidth === n && (i.scrollbarWidth = function () { var e = i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"), t = e.children(), t = t.innerWidth() - t.height(99).innerWidth(); return e.remove(), t }), i.support.fixedPosition === n) { t = i.support, a = i('<div style="position:fixed;top:20px;"></div>').appendTo("body"); var r = 20 === a[0].offsetTop || 15 === a[0].offsetTop; a.remove(), t.fixedPosition = r } i.extend(s.defaults, { scrollbarWidth: i.scrollbarWidth(), fixed: i.support.fixedPosition, parent: i("body") }), t = i(e).width(), o.addClass("fancybox-lock-test"), a = i(e).width(), o.removeClass("fancybox-lock-test"), i("<style type='text/css'>.fancybox-margin{margin-right:" + (a - t) + "px;}</style>").appendTo("head") }) }(window, document, jQuery);
/* scrolling */ !function (l, e) { "function" == typeof define && define.amd ? define(["jquery"], e) : e(l.jQuery) }(this, function (l) { "use strict"; function e(e) { if (t.webkit && !e) return { height: 0, width: 0 }; if (!t.data.outer) { var o = { border: "none", "box-sizing": "content-box", height: "200px", margin: "0", padding: "0", width: "200px" }; t.data.inner = l("<div>").css(l.extend({}, o)), t.data.outer = l("<div>").css(l.extend({ left: "-1000px", overflow: "scroll", position: "absolute", top: "-1000px" }, o)).append(t.data.inner).appendTo("body") } return t.data.outer.scrollLeft(1e3).scrollTop(1e3), { height: Math.ceil(t.data.outer.offset().top - t.data.inner.offset().top || 0), width: Math.ceil(t.data.outer.offset().left - t.data.inner.offset().left || 0) } } function o() { var l = e(!0); return !(l.height || l.width) } function s(l) { var e = l.originalEvent; return e.axis && e.axis === e.HORIZONTAL_AXIS ? !1 : e.wheelDeltaX ? !1 : !0 } var r = !1, t = { data: { index: 0, name: "scrollbar" }, macosx: /mac/i.test(navigator.platform), mobile: /android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent), overlay: null, scroll: null, scrolls: [], webkit: /webkit/i.test(navigator.userAgent) && !/edge\/\d+/i.test(navigator.userAgent) }; t.scrolls.add = function (l) { this.remove(l).push(l) }, t.scrolls.remove = function (e) { for (; l.inArray(e, this) >= 0;) this.splice(l.inArray(e, this), 1); return this }; var i = { autoScrollSize: !0, autoUpdate: !0, debug: !1, disableBodyScroll: !1, duration: 200, ignoreMobile: !1, ignoreOverlay: !1, scrollStep: 30, showArrows: !1, stepScrolling: !0, scrollx: null, scrolly: null, onDestroy: null, onInit: null, onScroll: null, onUpdate: null }, n = function (s) { t.scroll || (t.overlay = o(), t.scroll = e(), a(), l(window).resize(function () { var l = !1; if (t.scroll && (t.scroll.height || t.scroll.width)) { var o = e(); (o.height !== t.scroll.height || o.width !== t.scroll.width) && (t.scroll = o, l = !0) } a(l) })), this.container = s, this.namespace = ".scrollbar_" + t.data.index++, this.options = l.extend({}, i, window.jQueryScrollbarOptions || {}), this.scrollTo = null, this.scrollx = {}, this.scrolly = {}, s.data(t.data.name, this), t.scrolls.add(this) }; n.prototype = { destroy: function () { if (this.wrapper) { this.container.removeData(t.data.name), t.scrolls.remove(this); var e = this.container.scrollLeft(), o = this.container.scrollTop(); this.container.insertBefore(this.wrapper).css({ height: "", margin: "", "max-height": "" }).removeClass("scroll-content scroll-scrollx_visible scroll-scrolly_visible").off(this.namespace).scrollLeft(e).scrollTop(o), this.scrollx.scroll.removeClass("scroll-scrollx_visible").find("div").andSelf().off(this.namespace), this.scrolly.scroll.removeClass("scroll-scrolly_visible").find("div").andSelf().off(this.namespace), this.wrapper.remove(), l(document).add("body").off(this.namespace), l.isFunction(this.options.onDestroy) && this.options.onDestroy.apply(this, [this.container]) } }, init: function (e) { var o = this, r = this.container, i = this.containerWrapper || r, n = this.namespace, c = l.extend(this.options, e || {}), a = { x: this.scrollx, y: this.scrolly }, d = this.wrapper, h = { scrollLeft: r.scrollLeft(), scrollTop: r.scrollTop() }; if (t.mobile && c.ignoreMobile || t.overlay && c.ignoreOverlay || t.macosx && !t.webkit) return !1; if (d) i.css({ height: "auto", "margin-bottom": -1 * t.scroll.height + "px", "margin-right": -1 * t.scroll.width + "px", "max-height": "" }); else { if (this.wrapper = d = l("<div>").addClass("scroll-wrapper").addClass(r.attr("class")).css("position", "absolute" == r.css("position") ? "absolute" : "relative").insertBefore(r).append(r), r.is("textarea") && (this.containerWrapper = i = l("<div>").insertBefore(r).append(r), d.addClass("scroll-textarea")), i.addClass("scroll-content").css({ height: "auto", "margin-bottom": -1 * t.scroll.height + "px", "margin-right": -1 * t.scroll.width + "px", "max-height": "" }), r.on("scroll" + n, function (e) { l.isFunction(c.onScroll) && c.onScroll.call(o, { maxScroll: a.y.maxScrollOffset, scroll: r.scrollTop(), size: a.y.size, visible: a.y.visible }, { maxScroll: a.x.maxScrollOffset, scroll: r.scrollLeft(), size: a.x.size, visible: a.x.visible }), a.x.isVisible && a.x.scroll.bar.css("left", r.scrollLeft() * a.x.kx + "px"), a.y.isVisible && a.y.scroll.bar.css("top", r.scrollTop() * a.y.kx + "px") }), d.on("scroll" + n, function () { d.scrollTop(0).scrollLeft(0) }), c.disableBodyScroll) { var p = function (l) { s(l) ? a.y.isVisible && a.y.mousewheel(l) : a.x.isVisible && a.x.mousewheel(l) }; d.on("MozMousePixelScroll" + n, p), d.on("mousewheel" + n, p), t.mobile && d.on("touchstart" + n, function (e) { var o = e.originalEvent.touches && e.originalEvent.touches[0] || e, s = { pageX: o.pageX, pageY: o.pageY }, t = { left: r.scrollLeft(), top: r.scrollTop() }; l(document).on("touchmove" + n, function (l) { var e = l.originalEvent.targetTouches && l.originalEvent.targetTouches[0] || l; r.scrollLeft(t.left + s.pageX - e.pageX), r.scrollTop(t.top + s.pageY - e.pageY), l.preventDefault() }), l(document).on("touchend" + n, function () { l(document).off(n) }) }) } l.isFunction(c.onInit) && c.onInit.apply(this, [r]) } l.each(a, function (e, t) { var i = null, d = 1, h = "x" === e ? "scrollLeft" : "scrollTop", p = c.scrollStep, u = function () { var l = r[h](); r[h](l + p), 1 == d && l + p >= f && (l = r[h]()), -1 == d && f >= l + p && (l = r[h]()), r[h]() == l && i && i() }, f = 0; t.scroll || (t.scroll = o._getScroll(c["scroll" + e]).addClass("scroll-" + e), c.showArrows && t.scroll.addClass("scroll-element_arrows_visible"), t.mousewheel = function (l) { if (!t.isVisible || "x" === e && s(l)) return !0; if ("y" === e && !s(l)) return a.x.mousewheel(l), !0; var i = -1 * l.originalEvent.wheelDelta || l.originalEvent.detail, n = t.size - t.visible - t.offset; return (i > 0 && n > f || 0 > i && f > 0) && (f += i, 0 > f && (f = 0), f > n && (f = n), o.scrollTo = o.scrollTo || {}, o.scrollTo[h] = f, setTimeout(function () { o.scrollTo && (r.stop().animate(o.scrollTo, 240, "linear", function () { f = r[h]() }), o.scrollTo = null) }, 1)), l.preventDefault(), !1 }, t.scroll.on("MozMousePixelScroll" + n, t.mousewheel).on("mousewheel" + n, t.mousewheel).on("mouseenter" + n, function () { f = r[h]() }), t.scroll.find(".scroll-arrow, .scroll-element_track").on("mousedown" + n, function (s) { if (1 != s.which) return !0; d = 1; var n = { eventOffset: s["x" === e ? "pageX" : "pageY"], maxScrollValue: t.size - t.visible - t.offset, scrollbarOffset: t.scroll.bar.offset()["x" === e ? "left" : "top"], scrollbarSize: t.scroll.bar["x" === e ? "outerWidth" : "outerHeight"]() }, a = 0, v = 0; return l(this).hasClass("scroll-arrow") ? (d = l(this).hasClass("scroll-arrow_more") ? 1 : -1, p = c.scrollStep * d, f = d > 0 ? n.maxScrollValue : 0) : (d = n.eventOffset > n.scrollbarOffset + n.scrollbarSize ? 1 : n.eventOffset < n.scrollbarOffset ? -1 : 0, p = Math.round(.75 * t.visible) * d, f = n.eventOffset - n.scrollbarOffset - (c.stepScrolling ? 1 == d ? n.scrollbarSize : 0 : Math.round(n.scrollbarSize / 2)), f = r[h]() + f / t.kx), o.scrollTo = o.scrollTo || {}, o.scrollTo[h] = c.stepScrolling ? r[h]() + p : f, c.stepScrolling && (i = function () { f = r[h](), clearInterval(v), clearTimeout(a), a = 0, v = 0 }, a = setTimeout(function () { v = setInterval(u, 40) }, c.duration + 100)), setTimeout(function () { o.scrollTo && (r.animate(o.scrollTo, c.duration), o.scrollTo = null) }, 1), o._handleMouseDown(i, s) }), t.scroll.bar.on("mousedown" + n, function (s) { if (1 != s.which) return !0; var i = s["x" === e ? "pageX" : "pageY"], c = r[h](); return t.scroll.addClass("scroll-draggable"), l(document).on("mousemove" + n, function (l) { var o = parseInt((l["x" === e ? "pageX" : "pageY"] - i) / t.kx, 10); r[h](c + o) }), o._handleMouseDown(function () { t.scroll.removeClass("scroll-draggable"), f = r[h]() }, s) })) }), l.each(a, function (l, e) { var o = "scroll-scroll" + l + "_visible", s = "x" == l ? a.y : a.x; e.scroll.removeClass(o), s.scroll.removeClass(o), i.removeClass(o) }), l.each(a, function (e, o) { l.extend(o, "x" == e ? { offset: parseInt(r.css("left"), 10) || 0, size: r.prop("scrollWidth"), visible: d.width() } : { offset: parseInt(r.css("top"), 10) || 0, size: r.prop("scrollHeight"), visible: d.height() }) }), this._updateScroll("x", this.scrollx), this._updateScroll("y", this.scrolly), l.isFunction(c.onUpdate) && c.onUpdate.apply(this, [r]), l.each(a, function (l, e) { var o = "x" === l ? "left" : "top", s = "x" === l ? "outerWidth" : "outerHeight", t = "x" === l ? "width" : "height", i = parseInt(r.css(o), 10) || 0, n = e.size, a = e.visible + i, d = e.scroll.size[s]() + (parseInt(e.scroll.size.css(o), 10) || 0); c.autoScrollSize && (e.scrollbarSize = parseInt(d * a / n, 10), e.scroll.bar.css(t, e.scrollbarSize + "px")), e.scrollbarSize = e.scroll.bar[s](), e.kx = (d - e.scrollbarSize) / (n - a) || 1, e.maxScrollOffset = n - a }), r.scrollLeft(h.scrollLeft).scrollTop(h.scrollTop).trigger("scroll") }, _getScroll: function (e) { var o = { advanced: ['<div class="scroll-element">', '<div class="scroll-element_corner"></div>', '<div class="scroll-arrow scroll-arrow_less"></div>', '<div class="scroll-arrow scroll-arrow_more"></div>', '<div class="scroll-element_outer">', '<div class="scroll-element_size"></div>', '<div class="scroll-element_inner-wrapper">', '<div class="scroll-element_inner scroll-element_track">', '<div class="scroll-element_inner-bottom"></div>', "</div>", "</div>", '<div class="scroll-bar">', '<div class="scroll-bar_body">', '<div class="scroll-bar_body-inner"></div>', "</div>", '<div class="scroll-bar_bottom"></div>', '<div class="scroll-bar_center"></div>', "</div>", "</div>", "</div>"].join(""), simple: ['<div class="scroll-element">', '<div class="scroll-element_outer">', '<div class="scroll-element_size"></div>', '<div class="scroll-element_track"></div>', '<div class="scroll-bar"></div>', "</div>", "</div>"].join("") }; return o[e] && (e = o[e]), e || (e = o.simple), e = "string" == typeof e ? l(e).appendTo(this.wrapper) : l(e), l.extend(e, { bar: e.find(".scroll-bar"), size: e.find(".scroll-element_size"), track: e.find(".scroll-element_track") }), e }, _handleMouseDown: function (e, o) { var s = this.namespace; return l(document).on("blur" + s, function () { l(document).add("body").off(s), e && e() }), l(document).on("dragstart" + s, function (l) { return l.preventDefault(), !1 }), l(document).on("mouseup" + s, function () { l(document).add("body").off(s), e && e() }), l("body").on("selectstart" + s, function (l) { return l.preventDefault(), !1 }), o && o.preventDefault(), !1 }, _updateScroll: function (e, o) { var s = this.container, r = this.containerWrapper || s, i = "scroll-scroll" + e + "_visible", n = "x" === e ? this.scrolly : this.scrollx, c = parseInt(this.container.css("x" === e ? "left" : "top"), 10) || 0, a = this.wrapper, d = o.size, h = o.visible + c; o.isVisible = d - h > 1, o.isVisible ? (o.scroll.addClass(i), n.scroll.addClass(i), r.addClass(i)) : (o.scroll.removeClass(i), n.scroll.removeClass(i), r.removeClass(i)), "y" === e && (s.is("textarea") || h > d ? r.css({ height: h + t.scroll.height + "px", "max-height": "none" }) : r.css({ "max-height": h + t.scroll.height + "px" })), (o.size != s.prop("scrollWidth") || n.size != s.prop("scrollHeight") || o.visible != a.width() || n.visible != a.height() || o.offset != (parseInt(s.css("left"), 10) || 0) || n.offset != (parseInt(s.css("top"), 10) || 0)) && (l.extend(this.scrollx, { offset: parseInt(s.css("left"), 10) || 0, size: s.prop("scrollWidth"), visible: a.width() }), l.extend(this.scrolly, { offset: parseInt(s.css("top"), 10) || 0, size: this.container.prop("scrollHeight"), visible: a.height() }), this._updateScroll("x" === e ? "y" : "x", n)) } }; var c = n; l.fn.scrollbar = function (e, o) { return "string" != typeof e && (o = e, e = "init"), "undefined" == typeof o && (o = []), l.isArray(o) || (o = [o]), this.not("body, .scroll-wrapper").each(function () { var s = l(this), r = s.data(t.data.name); (r || "init" === e) && (r || (r = new c(s)), r[e] && r[e].apply(r, o)) }), this }, l.fn.scrollbar.options = i; var a = function () { var l = 0, e = 0; return function (o) { var s, i, n, c, d, h, p; for (s = 0; s < t.scrolls.length; s++) c = t.scrolls[s], i = c.container, n = c.options, d = c.wrapper, h = c.scrollx, p = c.scrolly, (o || n.autoUpdate && d && d.is(":visible") && (i.prop("scrollWidth") != h.size || i.prop("scrollHeight") != p.size || d.width() != h.visible || d.height() != p.visible)) && (c.init(), n.debug && (window.console && console.log({ scrollHeight: i.prop("scrollHeight") + ":" + c.scrolly.size, scrollWidth: i.prop("scrollWidth") + ":" + c.scrollx.size, visibleHeight: d.height() + ":" + c.scrolly.visible, visibleWidth: d.width() + ":" + c.scrollx.visible }, !0), e++)); r && e > 10 ? (window.console && console.log("Scroll updates exceed 10"), a = function () { }) : (clearTimeout(l), l = setTimeout(a, 300)) } }(); window.angular && !function (l) { l.module("jQueryScrollbar", []).provider("jQueryScrollbar", function () { var e = i; return { setOptions: function (o) { l.extend(e, o) }, $get: function () { return { options: l.copy(e) } } } }).directive("jqueryScrollbar", ["jQueryScrollbar", "$parse", function (l, e) { return { restrict: "AC", link: function (o, s, r) { var t = e(r.jqueryScrollbar), i = t(o); s.scrollbar(i || l.options).on("$destroy", function () { s.scrollbar("destroy") }) } } }]) }(window.angular) });
/* Number */ !function (e) { function t(e, t) { if (this.createTextRange) { var a = this.createTextRange(); a.collapse(!0), a.moveStart("character", e), a.moveEnd("character", t - e), a.select() } else this.setSelectionRange && (this.focus(), this.setSelectionRange(e, t)) } function a(e) { var t = this.value.length; if (e = "start" == e.toLowerCase() ? "Start" : "End", document.selection) { var a, i, n, l = document.selection.createRange(); return a = l.duplicate(), a.expand("textedit"), a.setEndPoint("EndToEnd", l), i = a.text.length - l.text.length, n = i + l.text.length, "Start" == e ? i : n } return "undefined" != typeof this["selection" + e] && (t = this["selection" + e]), t } var i = { codes: { 188: 44, 109: 45, 190: 46, 191: 47, 192: 96, 220: 92, 222: 39, 221: 93, 219: 91, 173: 45, 187: 61, 186: 59, 189: 45, 110: 46 }, shifts: { 96: "~", 49: "!", 50: "@", 51: "#", 52: "$", 53: "%", 54: "^", 55: "&", 56: "*", 57: "(", 48: ")", 45: "_", 61: "+", 91: "{", 93: "}", 92: "|", 59: ":", 39: '"', 44: "<", 46: ">", 47: "?" } }; e.fn.number = function (n, l, s, r) { r = "undefined" == typeof r ? "," : r, s = "undefined" == typeof s ? "." : s, l = "undefined" == typeof l ? 0 : l; var h = "\\u" + ("0000" + s.charCodeAt(0).toString(16)).slice(-4), u = new RegExp("[^" + h + "0-9]", "g"), o = new RegExp(h, "g"); return n === !0 ? this.is("input:text") ? this.on({ "keydown.format": function (n) { var h = e(this), c = h.data("numFormat"), v = n.keyCode ? n.keyCode : n.which, d = "", p = a.apply(this, ["start"]), g = a.apply(this, ["end"]), f = "", m = !1; if (i.codes.hasOwnProperty(v) && (v = i.codes[v]), !n.shiftKey && v >= 65 && 90 >= v ? v += 32 : !n.shiftKey && v >= 69 && 105 >= v ? v -= 48 : n.shiftKey && i.shifts.hasOwnProperty(v) && (d = i.shifts[v]), "" == d && (d = String.fromCharCode(v)), 8 !== v && d != s && !d.match(/[0-9]/)) { var y = n.keyCode ? n.keyCode : n.which; if (46 == y || 8 == y || 9 == y || 27 == y || 13 == y || (65 == y || 82 == y) && (n.ctrlKey || n.metaKey) === !0 || y >= 35 && 39 >= y) return; return n.preventDefault(), !1 } if ((0 != p || g != this.value.length) && 0 != h.val() || n.metaKey || n.ctrlKey || n.altKey || 1 !== d.length || 0 == d ? c.c = g - this.value.length : (p = g = 1, this.value = "", c.init = l > 0 ? -1 : 0, c.c = l > 0 ? -(l + 1) : 0, t.apply(this, [0, 0])), l > 0 && d == s && p == this.value.length - l - 1) c.c++, c.init = Math.max(0, c.init), n.preventDefault(), m = this.value.length + c.c; else if (d == s) c.init = Math.max(0, c.init), n.preventDefault(); else if (l > 0 && 8 == v && p == this.value.length - l) n.preventDefault(), c.c--, m = this.value.length + c.c; else if (l > 0 && 8 == v && p > this.value.length - l) { if ("" === this.value) return; "0" != this.value.slice(p - 1, p) && (f = this.value.slice(0, p - 1) + "0" + this.value.slice(p), h.val(f.replace(u, "").replace(o, s))), n.preventDefault(), c.c--, m = this.value.length + c.c } else 8 == v && this.value.slice(p - 1, p) == r ? (n.preventDefault(), c.c--, m = this.value.length + c.c) : l > 0 && p == g && this.value.length > l + 1 && p > this.value.length - l - 1 && isFinite(+d) && !n.metaKey && !n.ctrlKey && !n.altKey && 1 === d.length && (f = g === this.value.length ? this.value.slice(0, p - 1) : this.value.slice(0, p) + this.value.slice(p + 1), this.value = f, m = p); m !== !1 && t.apply(this, [m, m]), h.data("numFormat", c) }, "keyup.format": function (i) { var n, s = e(this), r = s.data("numFormat"), h = i.keyCode ? i.keyCode : i.which, u = a.apply(this, ["start"]); "" === this.value || (48 > h || h > 57) && (96 > h || h > 105) && 8 !== h || (s.val(s.val()), l > 0 && (r.init < 1 ? (u = this.value.length - l - (r.init < 0 ? 1 : 0), r.c = u - this.value.length, r.init = 1, s.data("numFormat", r)) : u > this.value.length - l && 8 != h && (r.c++, s.data("numFormat", r))), n = this.value.length + r.c, t.apply(this, [n, n])) }, "paste.format": function (t) { var a = e(this), i = t.originalEvent, n = null; return window.clipboardData && window.clipboardData.getData ? n = window.clipboardData.getData("Text") : i.clipboardData && i.clipboardData.getData && (n = i.clipboardData.getData("text/plain")), a.val(n), t.preventDefault(), !1 } }).each(function () { var t = e(this).data("numFormat", { c: -(l + 1), decimals: l, thousands_sep: r, dec_point: s, regex_dec_num: u, regex_dec: o, init: !1 }); "" !== this.value && t.val(t.val()) }) : this.each(function () { var t = e(this), a = +t.text().replace(u, "").replace(o, "."); t.number(isFinite(a) ? +a : 0, l, s, r) }) : this.text(e.number.apply(window, arguments)) }; var n = null, l = null; e.valHooks.text ? (n = e.valHooks.text.get, l = e.valHooks.text.set) : e.valHooks.text = {}, e.valHooks.text.get = function (t) { var a, i = e(t), l = i.data("numFormat"); return l ? "" === t.value ? "" : (a = +t.value.replace(l.regex_dec_num, "").replace(l.regex_dec, "."), "" + (isFinite(a) ? a : 0)) : e.isFunction(n) ? n(t) : void 0 }, e.valHooks.text.set = function (t, a) { var i = e(t), n = i.data("numFormat"); return n ? t.value = e.number(a, n.decimals, n.dec_point, n.thousands_sep) : e.isFunction(l) ? l(t, a) : void 0 }, e.number = function (e, t, a, i) { i = "undefined" == typeof i ? "," : i, a = "undefined" == typeof a ? "." : a, t = isFinite(+t) ? Math.abs(t) : 0; var n = "\\u" + ("0000" + a.charCodeAt(0).toString(16)).slice(-4); e = (e + "").replace(new RegExp(n, "g"), ".").replace(new RegExp("[^0-9+-Ee.]", "g"), ""); var l = isFinite(+e) ? +e : 0, s = "", r = function (e, t) { var a = Math.pow(10, t); return "" + Math.round(e * a) / a }; return s = (t ? r(l, t) : "" + Math.round(l)).split("."), s[0].length > 3 && (s[0] = s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g, i)), (s[1] || "").length < t && (s[1] = s[1] || "", s[1] += new Array(t - s[1].length + 1).join("0")), s.join(a) } }(jQuery);